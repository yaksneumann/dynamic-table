# ğŸ“Š ×¨×›×™×‘ ×˜×‘×œ×” ×“×™× ××™ (Smart Table Component)

[English](README.md) | ×¢×‘×¨×™×ª

**×¨×›×™×‘ ×˜×‘×œ×” ×’× ×¨×™ ×œ×—×œ×•×˜×™×Ÿ ×©×¢×•×‘×“ ×¢× ×›×œ ×¡×•×’ ×©×œ × ×ª×•× ×™×.** ×”×’×“×¨ ×¤×¢× ××—×ª, ×”×©×ª××© ×‘×›×œ ××§×•× - ××¨×©×™××ª ×¢×•×‘×“×™× ×•×¢×“ ×“×•×—×•×ª ×›×¡×¤×™×™×.

## ğŸ¯ ×œ××” "×“×™× ××™"?

×‘× ×™×’×•×“ ×œ×˜×‘×œ××•×ª ×§×‘×•×¢×•×ª ×©×§×©×•×¨×•×ª ×œ××•×“×œ × ×ª×•× ×™× ×¡×¤×¦×™×¤×™, ×”×¨×›×™×‘ ×”×–×” ××ª××™× ××ª ×¢×¦××• **×œ××‘× ×” ×”× ×ª×•× ×™× ×©×œ×š**:

- âœ… **××™×Ÿ ×¢××•×“×•×ª ×§×‘×•×¢×•×ª ×‘×§×•×“** - ××•×’×“×¨×•×ª ×“×¨×š ×§×•× ×¤×™×’×•×¨×¦×™×”
- âœ… **×¢×•×‘×“ ×¢× ×›×œ ×™×©×•×ª** - ×¢×•×‘×“×™×, ××ª×§× ×™×, ××•×¦×¨×™×, ×”×–×× ×•×ª, ×›×œ ×“×‘×¨
- âœ… **×”×—×œ×¤×” ××™×™×“×™×ª** - ××•×ª×• ×¨×›×™×‘, ×§×•× ×¤×™×’×•×¨×¦×™×•×ª ×©×•× ×•×ª
- âœ… **Type-safe ××œ×** - ×ª××™×›×” ××œ××” ×‘-TypeScript ×¢× Generics

**×¨×›×™×‘ ××—×“. ××™× ×¡×•×£ ×©×™××•×©×™×.**

## âœ¨ ×ª×›×•× ×•×ª

### ğŸ” ×—×™×¤×•×© ××ª×§×“×
- ×—×™×¤×•×© ×˜×§×¡×˜ ××œ× ×‘×›×œ ×”× ×ª×•× ×™×
- ×‘×—×™×¨×ª ×¢××•×“×•×ª ×¡×¤×¦×™×¤×™×•×ª ×œ×—×™×¤×•×©
- ××¦×‘ ×—×™×¤×•×©: "×›×œ ×”×¢××•×“×•×ª" ××• "××—×ª ××”×¢××•×“×•×ª"
- ×—×™×¤×•×© ×‘×©×“×•×ª ××§×•× × ×™×

### ğŸ¨ ×¡×™× ×•×Ÿ ×•×—×™×¤×•×©
- ×¤×™×œ×˜×¨×™× ××ª×§×“××™× ×¢× 14 ××•×¤×¨×˜×•×¨×™× ×©×•× ×™×
- ×ª××™×›×” ×‘×œ×•×’×™×§×” ××•×¨×›×‘×ª (AND/OR)
- ×¤×™×œ×˜×¨×™× ××§×•× × ×™× ×œ×©××™×œ×ª×•×ª ××•×¨×›×‘×•×ª
- ×¡×™× ×•×Ÿ ×œ×¤×™ ×˜×•×•×— (between), ××›×™×œ, ××ª×—×™×œ ×‘-, ×•×¢×•×“

### ğŸ“… ×‘×•×¨×¨ ×ª××¨×™×›×™× ××•×“×¨× ×™
- **Material Design** - ×¢×™×¦×•×‘ ××•×“×¨× ×™ ×•× ×§×™
- **×”×ª×××” ××™×©×™×ª ×©×œ ×¦×‘×¢×™×** - ×”×ª×× ×œ×¢×™×¦×•×‘ ×©×œ×š
- ×ª×¦×•×’×ª ×œ×•×— ×©× ×” × ×•×—×”
- ×ª××™×›×” ××œ××” ×‘-RTL
- ×’×•×‘×” ××™× ×™××œ×™ ×œ×©×™×œ×•×‘ ×‘×©×•×¨×•×ª ×”×˜×‘×œ×”

### ğŸ“Š × ×™×”×•×œ × ×ª×•× ×™×
- **Client-side mode** - ×›×œ ×”× ×ª×•× ×™× ××˜×•×¤×œ×™× ×‘×“×¤×“×¤×Ÿ
- **Server-side mode** - × ×ª×•× ×™× × ×˜×¢× ×™× ××”×©×¨×ª ×œ×¤×™ ×“×¨×™×©×”
- ×ª××™×›×” ×‘-Observable, Promise, ×•-Array
- Virtual scrolling ×œ×˜×‘×œ××•×ª ×¢× ×§ (××œ×¤×™ ×©×•×¨×•×ª)

### âœï¸ ×¢×¨×™×›×”
- **Inline editing** - ×¢×¨×™×›×” ×™×©×™×¨×” ×‘×ª×
- **Expanded editing** - ×˜×•×¤×¡ ××ª×—×ª ×œ×©×•×¨×”
- **Modal editing** - ×˜×•×¤×¡ ×‘×—×œ×•×Ÿ ×§×•×¤×¥
- ×ª××™×›×” ×‘-CRUD ××œ×

### ğŸ“± ×¨×¡×¤×•× ×¡×™×‘×™ ××œ×
- ××¢×‘×¨ ××•×˜×•××˜×™ ×œ×ª×¦×•×’×ª ×›×¨×˜×™×¡×™× ×‘××•×‘×™×™×œ (< 768px)
- Infinite scroll ×‘××•×‘×™×™×œ
- ×§×•× ×¤×™×’×•×¨×¦×™×” × ×¤×¨×“×ª ×œ× ×¨××•×ª ×‘××•×‘×™×™×œ ×œ×›×œ ×¢××•×“×”

### ğŸ¯ ×ª×›×•× ×•×ª × ×•×¡×¤×•×ª
- ×‘×—×™×¨×ª ×©×•×¨×•×ª (single/multiple)
- ×’×¨×™×¨×” ×•×¡×™×“×•×¨ ××—×“×© ×©×œ ×©×•×¨×•×ª
- ×’×¨×™×¨×” ×•×¡×™×“×•×¨ ××—×“×© ×©×œ ×¢××•×“×•×ª
- ×™×™×¦×•× ×œCSV, Excel ×•×”×“×¤×¡×”
- ×ª×’×™×•×ª ×¡×¤×™×¨×” ××•×˜×•××˜×™×•×ª ×œ×¡×˜×˜×•×¡×™×
- ×¢×™×¦×•×‘ ×ª× ××™ ×œ×ª××™× (×¢"×¤ ×œ×•×’×™×§×” ×¢×¡×§×™×ª)
- ×©××™×¨×ª ××¦×‘ (URL/LocalStorage)
- ×¤×× ×œ ×“×™××’× ×•×¡×˜×™×§×” ×œ×‘×™×¦×•×¢×™×
- ×ª×‘× ×™×•×ª ××•×ª×××•×ª (Templates) ×œ×›×•×ª×¨×•×ª, ×ª××™× ×•×¤×¢×•×œ×•×ª
- âš¡ Angular 21 Signals ×œ××¦×‘ ×¨×™××§×˜×™×‘×™
- ğŸŒ ×ª××™×›×” ××œ××” ×‘-RTL (×¢×‘×¨×™×ª)

## ğŸš€ ×”×ª×—×œ×” ××”×™×¨×”

```bash
npm install
ng s -o
# ×¤×ª×— http://localhost:4200
```

## ğŸ“– ××™×š ×œ×”×©×ª××© (2 ×©×œ×‘×™× ×¤×©×•×˜×™×)

### ×©×œ×‘ 1: ×”×’×“×¨ ×§×•× ×¤×™×’×•×¨×¦×™×” ×œ×˜×‘×œ×”

×¡×¤×¨ ×œ×˜×‘×œ×” ××™×œ×• ×¢××•×“×•×ª ×œ×”×¦×™×’ ×•××™×š ×œ×¢×¦×‘ ××•×ª×Ÿ ×œ×“×•×’××”:

```typescript
export const productTableConfig: TableConfig = {
  // ××•×¤×Ÿ × ×™×”×•×œ ×”× ×ª×•× ×™×
  dataMode: 'client', // ××• 'server' ×œ×˜×¢×™× ×” ××”×©×¨×ª
  editMode: 'modal',  // ××• 'inline' / 'expanded'
  
  columns: [
    {
      key: 'name',
      header: '×©× ××•×¦×¨',
      type: 'text',
      mobileVisible: true, // ×™×•×¦×’ ×‘××•×‘×™×™×œ
      sortable: true,      // × ×™×ª×Ÿ ×œ××™×™×Ÿ
      hideable: true,      // × ×™×ª×Ÿ ×œ×”×¡×ª×™×¨
      draggable: true      // × ×™×ª×Ÿ ×œ×’×¨×•×¨
    },
    {
      key: 'price',
      header: '××—×™×¨',
      type: 'currency',
      format: (value) => `â‚ª${value.toLocaleString('he-IL')}`,
      styleConfig: {
        condition: (value) => value > 1000,  // ×”×“×’×©×ª ××•×¦×¨×™× ×™×§×¨×™×
        backgroundColor: '#fff3e0',
        textColor: '#e65100'
      }
    },
    {
      key: 'status',
      header: '×¡×˜×˜×•×¡',
      type: 'badge',
      mobileVisible: true
    }
  ],
  
  pagination: {
    defaultPageSize: 10,
    pageSizeOptions: [5, 10, 20, 50],
    showPageInfo: true
  },
  
  // Virtual scrolling ×œ×‘×™×¦×•×¢×™×
  virtualization: {
    enabled: true,
    itemSize: 52,              // ×’×•×‘×” ×©×•×¨×”
    mobileItemSize: 160,       // ×’×•×‘×” ×›×¨×˜×™×¡ ×‘××•×‘×™×™×œ
    maxViewportHeight: 520     // ×’×•×‘×” ××§×¡×™××œ×™
  },
  
  features: {
    enableSearch: true,               // ×—×™×¤×•×©
    enableEdit: true,                 // ×¢×¨×™×›×”
    enableDelete: true,               // ××—×™×§×”
    enableSort: true,                 // ××™×•×Ÿ
    enableFilters: true,              // ×¤×™×œ×˜×¨×™× ××ª×§×“××™×
    enableSelection: true,            // ×‘×—×™×¨×ª ×©×•×¨×•×ª
    enableRowReorder: true,           // ×¡×™×“×•×¨ ××—×“×© ×©×œ ×©×•×¨×•×ª
    enableMobileInfiniteScroll: true, // ×’×œ×™×œ×” ××™× ×¡×•×¤×™×ª ×‘××•×‘×™×™×œ
    showTotalCount: true              // ×”×¦×’ ×¡×¤×™×¨×” ×›×•×œ×œ×ª
  },
  
  // ×‘×—×™×¨×ª ×©×•×¨×•×ª
  selection: {
    mode: 'multiple', // ××• 'single'
    trackBy: (row) => row.id
  },
  
  // ×™×™×¦×•× × ×ª×•× ×™×
  exports: {
    enableCsv: true,
    enableExcel: true,
    enablePrint: true,
    fileName: 'products-export'
  },
  
  // ×©××™×¨×ª ××¦×‘
  statePersistence: 'storage', // ××• 'url' / 'none'
  stateKey: 'products-table',
  
  // ×“×™××’× ×•×¡×˜×™×§×”
  diagnostics: {
    enabled: true
  },
  
  // ×¢×™×¦×•×‘
  styling: {
    statusColors: {
      'active': '#4caf50',
      'inactive': '#f44336'
    }
  },
  
  // ×”×’×“×¨×•×ª ×—×™×¤×•×©
  searchConfig: {
    mode: 'any', // ××• 'all'
    columns: ['name', 'description'] // ×¢××•×“×•×ª ××¡×•×™××•×ª
  }
};
```

### ×©×œ×‘ 2: ×”×©×ª××© ×‘×¨×›×™×‘

#### ×©×™××•×© ×‘×¡×™×¡×™ (Client-side)

```typescript
@Component({
  selector: 'app-products',
  standalone: true,
  imports: [SmartTableComponent],
  template: `
    <app-smart-table 
      [config]="productConfig" 
      [clientData]="productData"
      (rowClick)="onRowClick($event)"
      (actionClick)="onAction($event)"
      (selectionChange)="onSelectionChange($event)"
    />
  `
})
export class ProductsComponent {
  productData: Product[] = [
    { id: '1', name: '×œ×¤×˜×•×¤', price: 4500, status: 'available' },
    { id: '2', name: '×¢×›×‘×¨', price: 89, status: 'available' }
  ];
  
  productConfig = productTableConfig;
  
  onRowClick(row: Product) {
    console.log('Row clicked:', row);
  }
  
  onAction(event: { row: Product; action: 'edit' | 'delete' }) {
    if (event.action === 'edit') {
      // ×˜×¤×œ ×‘×¢×¨×™×›×”
    } else if (event.action === 'delete') {
      // ×˜×¤×œ ×‘××—×™×§×”
    }
  }
  
  onSelectionChange(selectedIds: string[]) {
    console.log('Selected IDs:', selectedIds);
  }
}
```

#### ×©×™××•×© ××ª×§×“× (Server-side)

```typescript
@Component({
  selector: 'app-products',
  standalone: true,
  imports: [SmartTableComponent],
  template: `
    <app-smart-table 
      [config]="productConfig" 
      [serverDataSource]="dataSource"
    />
  `
})
export class ProductsComponent {
  productConfig: TableConfig<Product> = {
    ...productTableConfig,
    dataMode: 'server' // ×—×©×•×‘!
  };
  
  dataSource: TableDataSource<Product> = {
    load: (params: TableQueryParams<Product>) => {
      // params ××›×™×œ: page, pageSize, sort, filters, searchTerm
      return this.http.get<TableDataSourceResult<Product>>('/api/products', {
        params: {
          page: params.page,
          pageSize: params.pageSize,
          search: params.searchTerm,
          sort: params.sort?.key || '',
          direction: params.sort?.direction || ''
        }
      });
    }
  };
}
```

**×–×”×•!** ×”×˜×‘×œ×” ××¦×™×’×” ××ª ×”× ×ª×•× ×™× ×©×œ×š ×¢× ×—×™×¤×•×©, pagination, ×¤×™×œ×˜×¨×™× ××ª×§×“××™× ×•×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™.

## ğŸ”§ ×©×™××•×© ×—×•×–×¨ ×‘×›×œ ××§×•×

**××•×ª×• ×¨×›×™×‘, × ×ª×•× ×™× ×©×•× ×™×:**

```typescript
// ×˜×‘×œ×ª ×¢×•×‘×“×™×
<app-smart-table [config]="employeeConfig" [clientData]="employeeData" />

// ×˜×‘×œ×ª ××ª×§× ×™×
<app-smart-table [config]="facilityConfig" [clientData]="facilityData" />

// ×˜×‘×œ×ª ××•×¦×¨×™× ×¢× ×©×¨×ª
<app-smart-table [config]="productConfig" [serverDataSource]="productDataSource" />
```

×›×œ ×§×•× ×¤×™×’×•×¨×¦×™×” ××’×“×™×¨×” ×¢××•×“×•×ª, ×›×œ×œ×™ ×¢×™×¦×•×‘ ×•×ª×›×•× ×•×ª ×©×•× ×•×ª - ××‘×œ ××©×ª××©×ª ×‘**××•×ª×• ×¨×›×™×‘ ×‘×“×™×•×§**.

## ğŸ“‹ ××“×¨×™×š ××™× ×˜×’×¨×¦×™×” ××¤×•×¨×˜

### ×©×œ×‘ 1: ×”×¢×ª×§ ××ª ×§×‘×¦×™ ×”×¨×›×™×‘

×”×¢×ª×§ ××ª ×”×ª×™×§×™×™×” ×”××œ××” ×©×œ ×”×¨×›×™×‘ ×œ×¤×¨×•×™×§×˜ ×©×œ×š:

```
××”×¤×¨×•×™×§×˜ ×”×–×”:
src/app/components/smart-table/
  â”œâ”€â”€ smart-table.component.ts
  â”œâ”€â”€ smart-table.html
  â””â”€â”€ smart-table.css

××œ ×”×¤×¨×•×™×§×˜ ×©×œ×š:
src/app/shared/components/smart-table/
  â”œâ”€â”€ smart-table.component.ts
  â”œâ”€â”€ smart-table.html
  â””â”€â”€ smart-table.css
```

### ×©×œ×‘ 2: ×”×¢×ª×§ ××ª ×§×‘×¦×™ ×”××•×“×œ×™×

×”×¢×ª×§ ××ª ×××©×§×™ ×”-TypeScript ×”× ×“×¨×©×™×:

```
××”×¤×¨×•×™×§×˜ ×”×–×”:
src/app/models/
  â”œâ”€â”€ table.config.interface.ts
  â”œâ”€â”€ table-data.interface.ts
  â””â”€â”€ status-types.ts

××œ ×”×¤×¨×•×™×§×˜ ×©×œ×š:
src/app/shared/models/
  â”œâ”€â”€ table.config.interface.ts
  â”œâ”€â”€ table-data.interface.ts
  â””â”€â”€ status-types.ts
```

**×—×©×•×‘:** ×ª×§×Ÿ ××ª ×”-imports ×‘×§×•×‘×¥ `smart-table.component.ts` ×œ×”×ª××™× ×œ××™×§×•× ×”×—×“×©:

```typescript
// ×œ×¤× ×™ (×‘×¤×¨×•×™×§×˜ ×”×“××•)
import { TableConfig } from '../../models/table.config.interface';

// ××—×¨×™ (×‘×¤×¨×•×™×§×˜ ×©×œ×š - ×ª×œ×•×™ ×‘××™×§×•×)
import { TableConfig } from '@shared/models/table.config.interface';

```

### ×©×œ×‘ 3: (××•×¤×¦×™×•× ×œ×™) ×”×¢×ª×§ ××ª ×©×™×¨×•×ª ×”-CRUD

×× ××ª×” ×¨×•×¦×” ×ª×›×•× ×•×ª ×¢×¨×™×›×” ×•××—×™×§×”:

```
××”×¤×¨×•×™×§×˜ ×”×–×”:
src/app/services/table.service.ts

××œ ×”×¤×¨×•×™×§×˜ ×©×œ×š:
src/app/shared/services/table.service.ts
```

**×”×ª×× ××ª ×”×©×™×¨×•×ª ×œ×¦×¨×›×™× ×©×œ×š:**

```typescript
@Injectable({
  providedIn: 'root',
})
export class TableService<T extends { id: string }> {
  constructor(private http: HttpClient) {}

  update(item: T): Observable<T> {
    // ×”×—×œ×£ ×¢× ×”×“××˜×” ×”×××™×ª×™ ×©×œ×š
    return this.http.put<T>(`/api/items/${item.id}`, item);
  }

  delete(id: string): Observable<void> {
    // ×”×—×œ×£ ×¢× ×”×“××˜×” ×”×××™×ª×™ ×©×œ×š
    return this.http.delete<void>(`/api/items/${id}`);
  }
}
```

### ×©×œ×‘ 4: ×¦×•×¨ ×§×•× ×¤×™×’×•×¨×¦×™×” ×œ× ×ª×•× ×™× ×©×œ×š

×¦×•×¨ ×§×•×‘×¥ ×§×•× ×¤×™×’ ×—×“×© ×©×™×”×™×” ×‘×”×ª×××” ×œ×¤×¨×•×™×™×§×˜ ×©×œ×š:

**×“×•×’××”: ×§×•× ×¤×™×’×•×¨×¦×™×” ×œ×˜×‘×œ×ª ××©×ª××©×™×**

```typescript
// src/app/configs/users-table.config.ts

import { TableConfig } from '@shared/models/table.config.interface';

export const usersTableConfig: TableConfig = {
  columns: [
    {
      key: 'id',
      header: '××–×”×” ××©×ª××©',
      type: 'text',
      width: '100px',
      align: 'right',
      sortable: true,
      mobileVisible: true,
    },
    {
      key: 'fullName',
      header: '×©× ××œ×',
      type: 'text',
      width: '200px',
      align: 'right',
      sortable: true,
      mobileVisible: true,
    },
    {
      key: 'email',
      header: '××™××™×™×œ',
      type: 'text',
      width: '220px',
      align: 'left',
      sortable: true,
      mobileVisible: true,
    },
    {
      key: 'role',
      header: '×ª×¤×§×™×“',
      type: 'badge',
      width: '120px',
      align: 'center',
      mobileVisible: true,
      format: (value: string) => {
        const roleMap: Record<string, string> = {
          admin: '×× ×”×œ ××¢×¨×›×ª',
          user: '××©×ª××© ×¨×’×™×œ',
          guest: '××•×¨×—',
        };
        return roleMap[value] || value;
      },
    },
    {
      key: 'registrationDate',
      header: '×ª××¨×™×š ×”×¨×©××”',
      type: 'date',
      width: '140px',
      align: 'center',
      sortable: true,
    },
    {
      key: 'status',
      header: '×¡×˜×˜×•×¡',
      type: 'badge',
      width: '100px',
      align: 'center',
      mobileVisible: true,
      format: (value: string) => {
        const statusMap: Record<string, string> = {
          active: '×¤×¢×™×œ',
          inactive: '×œ× ×¤×¢×™×œ',
          suspended: '××•×©×¢×”',
        };
        return statusMap[value] || value;
      },
      styleConfig: {
        condition: (value) => value === 'suspended',
        backgroundColor: '#ffebee',
        textColor: '#c62828',
      },
    },
  ],
  pagination: {
    defaultPageSize: 20,
    pageSizeOptions: [10, 20, 50, 100],
  },
  features: {
    enableSearch: true,
    enableEdit: true,
    enableDelete: true,
  },
  styling: {
    statusColors: {
      active: '#4caf50',
      inactive: '#9e9e9e',
      suspended: '#f44336',
    },
  },
};
```

### ×©×œ×‘ 5: ×”×’×“×¨ ××ª ×××©×§ ×”× ×ª×•× ×™× ×©×œ×š

×¦×•×¨ interface ×œ× ×ª×•× ×™× ×©×œ×š:

```typescript
// src/app/models/user.interface.ts

export interface User {
  id: string;                    // ×—×•×‘×”
  status?: string;               // ××•×¤×¦×™×•× ×œ×™, × ×“×¨×© ×× ××©×ª××© ×‘×ª×›×•× ×ª status badges
  fullName: string;
  email: string;
  role: 'admin' | 'user' | 'guest';
  registrationDate: string;
  [key: string]: any;            // ×××¤×©×¨ ×©×“×•×ª × ×•×¡×¤×™×
}
```

**×“×¨×™×©×•×ª ××™× ×™××•×:**
- `id: string` - ×—×•×‘×”
- `status?: string` - ××•×¤×¦×™×•× ×œ×™, × ×“×¨×© ×¨×§ ×× ××©×ª××© ×‘×ª×›×•× ×ª ×¡×¤×™×¨×ª ×¡×˜×˜×•×¡×™×
- ×›×œ ×©×“×” ××—×¨ ×©××•×¤×™×¢ ×‘-`columns` ×©×œ ×”×§×•× ×¤×™×’×•×¨×¦×™×”

### ×©×œ×‘ 6: ×”×©×ª××© ×‘×¨×›×™×‘ ×‘×§×•××¤×•× × ×˜×” ×©×œ×š

```typescript
// src/app/pages/users/users.component.ts

import { Component, OnInit } from '@angular/core';
import { SmartTableComponent } from '@shared/components/smart-table/smart-table.component';
import { usersTableConfig } from '@app/configs/users-table.config';
import { User } from '@app/models/user.interface';
import { UserService } from '@app/services/user.service';

@Component({
  selector: 'app-users',
  standalone: true,
  imports: [SmartTableComponent],
  template: `
    <div class="page-container">
      <h1>× ×™×”×•×œ ××©×ª××©×™×</h1>
      <app-smart-table 
        [config]="tableConfig" 
        [data]="users"
      />
    </div>
  `,
  styles: [`
    .page-container {
      padding: 20px;
      direction: rtl;
    }
  `]
})
export class UsersComponent implements OnInit {
  tableConfig = usersTableConfig;
  users: User[] = [];

  constructor(private userService: UserService) {}

  ngOnInit() {
    this.loadUsers();
  }

  loadUsers() {
    this.userService.getAll().subscribe(users => {
      this.users = users;
    });
  }
}
```

## ğŸ“‹ ××“×¨×™×š ×§×•× ×¤×™×’×•×¨×¦×™×” ××¤×•×¨×˜

### ×××¤×™×™× ×™ ×¢××•×“×” (Column Properties)

```typescript
{
  key: string;                    // ×©× ×”×©×“×” ×‘× ×ª×•× ×™× (×—×•×‘×”)
  header: string;                 // ×›×•×ª×¨×ª ×”×¢××•×“×” (×—×•×‘×”)
  type: 'text' | 'number' | 'badge' | 'currency' | 'date' | 'action';
  width?: string;                 // ×¨×•×—×‘ ×”×¢××•×“×” (×œ××©×œ: '120px', '20%')
  align?: 'left' | 'center' | 'right';  // ×™×™×©×•×¨ ×ª×•×›×Ÿ
  sortable?: boolean;             // ×”×× × ×™×ª×Ÿ ×œ××™×™×Ÿ ×œ×¤×™ ×¢××•×“×” ×–×•
  mobileVisible?: boolean;        // ×”×× ×œ×”×¦×™×’ ×‘××•×‘×™×™×œ
  hideable?: boolean;             // ×”×× ×”××©×ª××© ×™×›×•×œ ×œ×”×¡×ª×™×¨/×œ×”×¦×™×’
  hidden?: boolean;               // ×”×× ××•×¡×ª×¨ ×‘×”×ª×—×œ×”
  draggable?: boolean;            // ×”×× × ×™×ª×Ÿ ×œ×’×¨×•×¨ ×œ×¡×™×“×•×¨ ××—×“×©
  format?: (value: any, row?: any) => string;  // ×¤×•× ×§×¦×™×™×ª ×¢×™×¦×•×‘ ××•×ª×××ª
  styleConfig?: {                 // ×¢×™×¦×•×‘ ×ª× ××™
    condition: (value: any, row?: any) => boolean;  // ×ª× ××™ ×œ×”×—×œ×ª ×”×¢×™×¦×•×‘
    backgroundColor?: string;      // ×¦×‘×¢ ×¨×§×¢
    textColor?: string;            // ×¦×‘×¢ ×˜×§×¡×˜
    fontWeight?: string;           // ×¢×•×‘×™ ×’×•×¤×Ÿ
    borderRadius?: string;         // ×¢×™×’×•×œ ×¤×™× ×•×ª
  }
}
```

### ×“×’×œ×™ ×ª×›×•× ×•×ª (Feature Flags)

```typescript
features: {
  enableSearch?: boolean;           // ×©×•×¨×ª ×—×™×¤×•×© ×’×œ×•×‘×œ×™×ª
  enableEdit?: boolean;             // ×›×¤×ª×•×¨ ×¢×¨×™×›×” ×‘×›×œ ×©×•×¨×”
  enableDelete?: boolean;           // ×›×¤×ª×•×¨ ××—×™×§×” ×‘×›×œ ×©×•×¨×”
  enableSort?: boolean;             // ××™×•×Ÿ ×‘×œ×—×™×¦×” ×¢×œ ×›×•×ª×¨×•×ª
  enableFilters?: boolean;          // ×¤×™×œ×˜×¨×™× ××ª×§×“××™×
  enableSelection?: boolean;        // ×‘×—×™×¨×ª ×©×•×¨×•×ª ×¢× checkboxes
  enableRowReorder?: boolean;       // ×’×¨×™×¨×” ×•×¡×™×“×•×¨ ××—×“×© ×©×œ ×©×•×¨×•×ª
  showTotalCount?: boolean;         // ×”×¦×’ ×¡×¤×™×¨×” ×›×•×œ×œ×ª
  enableMobileInfiniteScroll?: boolean; // ×’×œ×™×œ×” ××™× ×¡×•×¤×™×ª ×‘××•×‘×™×™×œ
}
```

### ×”×’×“×¨×•×ª Pagination

```typescript
pagination: {
  defaultPageSize: number;         // ×’×•×“×œ ×¢××•×“ ×‘×¨×™×¨×ª ××—×“×œ
  pageSizeOptions: number[];       // ××¤×©×¨×•×™×•×ª ×’×•×“×œ ×¢××•×“
  showPageInfo?: boolean;          // ×”×× ×œ×”×¦×™×’ ××™×“×¢ ×¢×œ ×”×¢××•×“ (×›×’×•×Ÿ "1-10 ××ª×•×š 50")
}
```

### Virtual Scrolling (×œ×‘×™×¦×•×¢×™×)

```typescript
virtualization?: {
  enabled?: boolean;                // ×”×× ×œ×”×¤×¢×™×œ virtual scrolling
  itemSize: number;                 // ×’×•×‘×” ×©×•×¨×” ×‘×¤×™×§×¡×œ×™× (desktop)
  mobileItemSize?: number;          // ×’×•×‘×” ×›×¨×˜×™×¡ ×‘×¤×™×§×¡×œ×™× (mobile)
  maxViewportHeight?: number;       // ×’×•×‘×” ××§×¡×™××œ×™ ×©×œ ××–×•×¨ ×”×’×œ×™×œ×”
}
```

### ×”×’×“×¨×•×ª ×‘×—×™×¨×” (Selection)

```typescript
selection?: {
  mode?: 'single' | 'multiple';   // ×‘×—×™×¨×” ×™×—×™×“×” ××• ××¨×•×‘×”
  trackBy?: (row: T) => string;    // ×¤×•× ×§×¦×™×” ×œ×–×™×”×•×™ ×™×™×—×•×“×™ ×©×œ ×©×•×¨×”
}
```

### ×”×’×“×¨×•×ª ×™×™×¦×•× (Export)

```typescript
exports?: {
  enableCsv?: boolean;              // ××¤×©×¨ ×™×™×¦×•× CSV
  enableExcel?: boolean;            // ××¤×©×¨ ×™×™×¦×•× Excel
  enablePrint?: boolean;            // ××¤×©×¨ ×”×“×¤×¡×”
  fileName?: string;                // ×©× ×§×•×‘×¥ ×‘×¨×™×¨×ª ××—×“×œ
}
```

### ×©××™×¨×ª ××¦×‘ (State Persistence)

```typescript
statePersistence?: 'none' | 'url' | 'storage';  // ××™×¤×” ×œ×©××•×¨ ××ª ××¦×‘ ×”×˜×‘×œ×”
stateKey?: string;                  // ××¤×ª×— ×™×™×—×•×“×™ ×œ-localStorage
```

### ×”×’×“×¨×•×ª ×¢×™×¦×•×‘

```typescript
styling?: {
  statusColors?: Record<string, string>;  // ×¦×‘×¢×™× ×œ×›×œ ×¡×˜×˜×•×¡
  customClasses?: string[];               // ××—×œ×§×•×ª CSS ××•×ª×××•×ª
}
```

### ×”×’×“×¨×•×ª ×—×™×¤×•×© (Search Config)

```typescript
searchConfig?: {
  mode?: 'any' | 'all';            // 'any' = ×”×ª×××” ×‘××—×“ ××”×©×“×•×ª, 'all' = ×”×ª×××” ×‘×›×œ ×”×©×“×•×ª
  columns?: ColumnKey<T>[];        // ×¢××•×“×•×ª ×‘×¨×™×¨×ª ××—×“×œ ×œ×—×™×¤×•×©
}
```

### ××•×¤×¨×˜×•×¨×™ ×¤×™×œ×˜×¨ ××ª×§×“××™×

×”×˜×‘×œ×” ×ª×•××›×ª ×‘-14 ××•×¤×¨×˜×•×¨×™× ×©×•× ×™×:

```typescript
type FilterOperator =
  | 'eq'          // ×©×•×•×” ×œ-
  | 'neq'         // ×œ× ×©×•×•×” ×œ-
  | 'contains'    // ××›×™×œ
  | 'startsWith'  // ××ª×—×™×œ ×‘-
  | 'endsWith'    // × ×’××¨ ×‘-
  | 'gt'          // ×’×“×•×œ ×-
  | 'gte'         // ×’×“×•×œ ××• ×©×•×•×” ×œ-
  | 'lt'          // ×§×˜×Ÿ ×-
  | 'lte'         // ×§×˜×Ÿ ××• ×©×•×•×” ×œ-
  | 'between'     // ×‘×™×Ÿ ×©× ×™ ×¢×¨×›×™×
  | 'in'          // × ××¦× ×‘×¨×©×™××”
  | 'notIn'       // ×œ× × ××¦× ×‘×¨×©×™××”
  | 'isEmpty'     // ×¨×™×§
  | 'isNotEmpty'; // ×œ× ×¨×™×§
```

## ğŸ’¡ ×“×•×’×××•×ª ×©×™××•×© ××ª×§×“××•×ª

### ×¢×™×¦×•×‘ ×ª× ××™ ××•×¨×›×‘

×”×“×’×© ×ª××™× ×œ×¤×™ ×ª× ××™ ××•×¨×›×‘:

```typescript
styleConfig: {
  condition: (value, row) => {
    // ×”×“×’×© ×× ×”×¡×›×•× ×’×‘×•×” ×•×”×¡×˜×˜×•×¡ ×“×—×•×£
    return row.status === 'urgent' && value > 5000;
  },
  backgroundColor: '#ffebee',
  textColor: '#c62828',
  fontWeight: 'bold',
}
```

### ×¤×•×¨××˜×¨ ××•×ª×× ×œ×ª××¨×™×›×™×

```typescript
{
  key: 'createdAt',
  header: '×ª××¨×™×š ×™×¦×™×¨×”',
  type: 'date',
  format: (value) => {
    const date = new Date(value);
    const today = new Date();
    const diffDays = Math.floor((today - date) / (1000 * 60 * 60 * 24));
    
    if (diffDays === 0) return '×”×™×•×';
    if (diffDays === 1) return '××ª××•×œ';
    if (diffDays < 7) return `×œ×¤× ×™ ${diffDays} ×™××™×`;
    
    return date.toLocaleDateString('he-IL');
  }
}
```

### ×¤×™×œ×˜×¨×™× ××ª×§×“××™× ××•×ª×××™× ××™×©×™×ª

```typescript
// ×©×™××•×© ×‘-FilterGroup ×œ××‘× ×” ×¤×™×œ×˜×¨×™× ××•×¨×›×‘
const advancedFilter: FilterGroup<Product> = {
  logic: 'and', // ×›×œ ×”×ª× ××™× ×—×™×™×‘×™× ×œ×”×ª×§×™×™×
  conditions: [
    {
      field: 'price',
      operator: 'between',
      value: 100,
      valueTo: 1000
    },
    {
      field: 'status',
      operator: 'in',
      value: ['active', 'pending']
    },
    {
      field: 'name',
      operator: 'contains',
      value: 'laptop',
      caseSensitive: false
    }
  ]
};
```

### ×©×™××•×© ×‘-Templates ××•×ª×××™× ××™×©×™×ª

```typescript
@Component({
  template: `
    <app-smart-table 
      [config]="config"
      [clientData]="data"
      [headerTemplate]="customHeader"
      [cellTemplate]="customCell"
      [actionTemplate]="customActions"
      [emptyTemplate]="emptyState"
      [mobileCardTemplate]="mobileCard"
    />
    
    <!-- Template ××•×ª×× ×œ×›×•×ª×¨×ª -->
    <ng-template #customHeader let-column>
      <div class="custom-header">
        <i class="icon">ğŸ“Š</i>
        {{ column.header }}
      </div>
    </ng-template>
    
    <!-- Template ××•×ª×× ×œ×ª× -->
    <ng-template #customCell let-row let-column="column" let-value="value">
      <div class="custom-cell">
        @if (column.key === 'price') {
          <strong>â‚ª{{ value | number }}</strong>
        } @else {
          {{ value }}
        }
      </div>
    </ng-template>
    
    <!-- Template ××•×ª×× ×œ×¤×¢×•×œ×•×ª -->
    <ng-template #customActions let-row let-index="index">
      <button (click)="viewDetails(row)">ğŸ‘ï¸</button>
      <button (click)="duplicate(row)">ğŸ“‹</button>
      <button (click)="archive(row)">ğŸ“¦</button>
    </ng-template>
    
    <!-- Template ×œ××¦×‘ ×¨×™×§ -->
    <ng-template #emptyState>
      <div class="empty-illustration">
        <img src="assets/empty.svg" alt="No data" />
        <h3>××™×Ÿ × ×ª×•× ×™×</h3>
        <p>×”×ª×—×œ ×¢×œ ×™×“×™ ×”×•×¡×¤×ª ×¤×¨×™×˜ ×—×“×©</p>
        <button (click)="addNew()">×”×•×¡×£ ×—×“×©</button>
      </div>
    </ng-template>
    
    <!-- Template ××•×ª×× ×œ×›×¨×˜×™×¡ ××•×‘×™×™×œ -->
    <ng-template #mobileCard let-row let-index="index">
      <div class="custom-mobile-card">
        <div class="card-badge" [style.background]="getStatusColor(row.status)">
          {{ row.status }}
        </div>
        <h3>{{ row.name }}</h3>
        <p>{{ row.description }}</p>
        <div class="card-footer">
          <span class="price">â‚ª{{ row.price }}</span>
          <button (click)="viewRow(row)">×¦×¤×”</button>
        </div>
      </div>
    </ng-template>
  `
})
```

### ×˜×¢×™× ×” ××”×©×¨×ª ×¢× ×¤×™×œ×˜×¨×™×

```typescript
readonly dataSource: TableDataSource<Product> = {
  load: (params: TableQueryParams<Product>) => {
    // params.filters ××›×™×œ ××ª ×›×œ ×”×¤×™×œ×˜×¨×™× ×”××•×ª×§× ×™×
    // params.sort ××›×™×œ ××ª ××¦×‘ ×”××™×•×Ÿ ×”× ×•×›×—×™
    // params.searchTerm ××›×™×œ ××ª ××—×¨×•×–×ª ×”×—×™×¤×•×©
    
    return this.http.post<TableDataSourceResult<Product>>('/api/products/search', {
      page: params.page,
      pageSize: params.pageSize,
      search: params.searchTerm,
      searchColumns: params.searchColumns,
      searchMode: params.searchMode,
      sort: params.sort,
      filters: params.filters
    }).pipe(
      map(response => ({
        items: response.items,
        total: response.total
      })),
      catchError(error => {
        console.error('Failed to load data', error);
        return of({ items: [], total: 0 });
      })
    );
  }
};
```

### ×©×™××•×© ×¢× Observables

```typescript
// ×”× ×ª×•× ×™× ××’×™×¢×™× ×-Store/Service
products$ = this.store.select(selectProducts);

// ×‘×ª×‘× ×™×ª
<app-smart-table 
  [config]="config" 
  [clientData]="(products$ | async) || []"
/>
```

### ×§×•× ×¤×™×’×•×¨×¦×™×•×ª ×©×•× ×•×ª ×œ××•×ª× × ×ª×•× ×™×

```typescript
// ×§×•× ×¤×™×’×•×¨×¦×™×” ×‘×¡×™×¡×™×ª
readonly basicConfig: TableConfig<Employee> = {
  ...employeeConfig,
  features: {
    enableSearch: true,
    enableSort: true
  }
};

// ×§×•× ×¤×™×’×•×¨×¦×™×” ×œ×× ×”×œ ×¢× ×¢×¨×™×›×”
readonly adminConfig: TableConfig<Employee> = {
  ...employeeConfig,
  editMode: 'modal',
  features: {
    enableSearch: true,
    enableSort: true,
    enableEdit: true,
    enableDelete: true,
    enableFilters: true
  }
};

// ×§×•× ×¤×™×’×•×¨×¦×™×” ×œ×ª×¦×•×’×” ×‘×œ×‘×“
readonly readOnlyConfig: TableConfig<Employee> = {
  ...employeeConfig,
  features: {
    enableSearch: true,
    enableSort: true
  },
  columns: employeeConfig.columns.filter(col => col.type !== 'action')
};
```

### ×¢××•×“×ª ×¤×¢×•×œ×•×ª ××•×ª×××ª

```typescript
{
  key: 'actions',
  header: '×¤×¢×•×œ×•×ª',
  type: 'action',
  width: '150px',
  align: 'center',
  mobileVisible: true,
}
```

×”×¨×›×™×‘ ××¦×™×’ ××•×˜×•××˜×™×ª ×›×¤×ª×•×¨×™ ×¢×¨×™×›×” ×•××—×™×§×” ×× ×”× ××•×¤×¢×œ×™× ×‘-`features`.

## ğŸ¨ ×”×ª×××•×ª CSS

××¤×©×¨ ×œ×¢×¦×‘ ××ª ×”×˜×‘×œ×” ×“×¨×š CSS:

```css
/* ×”×ª×××•×ª ×’×œ×•×‘×œ×™×•×ª */
app-smart-table {
  --table-border-color: #e0e0e0;
  --table-header-bg: #f5f5f5;
  --table-row-hover: #f9f9f9;
  --primary-color: #1976d2;
}

/* ×“×¨×¡ ×¡×’× ×•× ×•×ª ×¡×¤×¦×™×¤×™×™× */
app-smart-table ::ng-deep .table-container {
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
```

## ğŸ“± ×—×•×•×™×™×ª ××©×ª××© ×‘××•×‘×™×™×œ

**Desktop (> 768px):** ×˜×‘×œ×” ××œ××” ×¢× ×›×œ ×”×¢××•×“×•×ª  
**Mobile (â‰¤ 768px):** ×ª×¦×•×’×ª ×›×¨×˜×™×¡×™× ×¢× ×¨×§ ×¢××•×“×•×ª ×©××¡×•×× ×•×ª `mobileVisible: true`

**×˜×™×¤:** ×©×™× `mobileVisible: true` ×¨×§ ×œ×©×“×•×ª ×”×›×™ ×—×©×•×‘×™× (3-4 ×©×“×•×ª) ×œ×—×•×•×™×” ××•×¤×˜×™××œ×™×ª ×‘××•×‘×™×™×œ.

## ğŸ” ×—×™×¤×•×© ×•×¡×™× ×•×Ÿ

### ×—×™×¤×•×© ×‘×¡×™×¡×™

×”×¨×›×™×‘ ××¡×¤×§ ×—×™×¤×•×© ××•×˜×•××˜×™ ×‘×›×œ ×”×©×“×•×ª:

```typescript
features: {
  enableSearch: true,  // ××¤×¢×™×œ ×©×“×” ×—×™×¤×•×©
}
```

**×”×—×™×¤×•×© ×¢×•×‘×“ ×¢×œ:**
- ×›×œ ×”×©×“×•×ª (strings, numbers)
- ×©×“×•×ª ××¢×•×¦×‘×™× (format functions)
- ××•×‘×™×™×§×˜×™× ××§×•× × ×™× (× ×¢×©×” stringify)

### ×—×™×¤×•×© ××ª×§×“×

×”×’×“×¨ ×¢××•×“×•×ª ×¡×¤×¦×™×¤×™×•×ª ×œ×—×™×¤×•×©:

```typescript
searchConfig: {
  mode: 'any',  // 'any' = ××¡×¤×™×§ ×”×ª×××” ×‘××—×“, 'all' = ×¦×¨×™×š ×”×ª×××” ×‘×›×•×œ×
  columns: ['name', 'description', 'category']  // ×¨×§ ×‘×¢××•×“×•×ª ××œ×•
}
```

×”××©×ª××© ×™×›×•×œ ×’× ×œ×‘×—×•×¨ ×¢××•×“×•×ª ×“×¨×š ×”-UI!

### ×¤×™×œ×˜×¨×™× ××ª×§×“××™×

```typescript
features: {
  enableFilters: true  // ××¤×¢×™×œ ×¤×× ×œ ×¤×™×œ×˜×¨×™× ××ª×§×“×
}
```

×”×¤×× ×œ ×××¤×©×¨:
- ×”×•×¡×¤×” ×•××—×™×§×” ×©×œ ×ª× ××™×
- ×‘×—×™×¨×” ×-14 ××•×¤×¨×˜×•×¨×™× ×©×•× ×™×
- ×œ×•×’×™×§×” AND/OR ×‘×™×Ÿ ×ª× ××™×
- ×¤×™×œ×˜×¨×™× ××§×•× × ×™× ×œ××‘× ×™× ××•×¨×›×‘×™×

### ×“×•×’××” ×œ×¤×™×œ×˜×¨ ××ª×•×›× ×ª

```typescript
// ×¤×™×œ×˜×¨ ×¤×©×•×˜
const simpleFilter = {
  status: 'active',
  category: 'electronics'
};

// ×¤×™×œ×˜×¨ ××•×¨×›×‘
const complexFilter: FilterGroup<Product> = {
  logic: 'or',
  conditions: [
    {
      field: 'price',
      operator: 'lt',
      value: 100
    },
    {
      field: 'discount',
      operator: 'gte',
      value: 50
    }
  ]
};
```

## âš¡ ×©×™×¤×•×¨×™ ×‘×™×¦×•×¢×™×

### ×©×™××•×© ×‘-Signals ×©×œ Angular

×”×¨×›×™×‘ ××©×ª××© ×‘-Angular Signals ×œ××¦×‘ ×¨×™××§×˜×™×‘×™:

```typescript
// ×”× ×ª×•× ×™× ××ª×¢×“×›× ×™× ××•×˜×•××˜×™×ª
users.set(newUsers);  // ×”×˜×‘×œ×” ×ª×ª×¢×“×›×Ÿ ××™×™×“×™×ª
```

### Pagination ×—×›×

×¨×§ ×”×©×•×¨×•×ª ×”× ×•×›×—×™×•×ª ××•×¦×’×•×ª ×‘-DOM:

```typescript
pagination: {
  defaultPageSize: 20,  // ×¨×§ 20 ×©×•×¨×•×ª ×‘-DOM ×‘×›×œ ×¤×¢×
}
```

## ğŸ› ï¸ ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª × ×¤×•×¦×•×ª

### ×”×¨×›×™×‘ ×œ× ××•×¦× ××ª ×”-imports

```typescript
// ×•×“× ×©×”-paths ×‘-tsconfig.json ××•×’×“×¨
{
  "compilerOptions": {
    "paths": {
      "@shared/*": ["src/app/shared/*"],
      "@app/*": ["src/app/*"]
    }
  }
}
```

### ×¢×™×¦×•×‘ RTL ×œ× ×¢×•×‘×“

```css
/* ×•×“× ×©-direction: rtl ××•×’×“×¨ */
:host {
  direction: rtl;
}
```

### ×ª×›×•× ×ª ×¢×¨×™×›×”/××—×™×§×” ×œ× ×¢×•×‘×“×ª

1. ×•×“× ×©-`TableService` ××™×•×‘×
2. ×•×“× ×©×”×©×™×¨×•×ª ××—×–×™×¨ Observable
3. ×‘×“×•×§ ×©×”-features ××•×¤×¢×œ×™× ×‘×§×•× ×¤×™×’×•×¨×¦×™×”

### Virtual Scrolling ×œ× ×¢×•×‘×“

1. ×•×“× ×©-`@angular/cdk/scrolling` ××•×ª×§×Ÿ
2. ×‘×“×•×§ ×©-`itemSize` ××ª××™× ×œ×’×•×‘×” ×”×©×•×¨×” ×‘×¤×•×¢×œ
3. ×•×“× ×©-`maxViewportHeight` ××•×’×“×¨

### ×”× ×ª×•× ×™× ×œ× ××ª×¢×“×›× ×™×

×¢×‘×•×¨ Server-side, ×•×“× ×©-`dataMode: 'server'` ××•×’×“×¨:

```typescript
config: TableConfig<T> = {
  ...baseConfig,
  dataMode: 'server'  // ×—×©×•×‘!
};
```

## ğŸ“š ××©××‘×™× × ×•×¡×¤×™×

- **×“×•×’×××•×ª ×¢×‘×•×“×”:** ×¨××” `src/app/configs/` ×œ×“×•×’×××•×ª ××œ××•×ª
- **×××©×§×™×:** ×¨××” `src/app/models/table.config.interface.ts` ×œ×›×œ ×”××¤×©×¨×•×™×•×ª
- **×§×•×“ ×”××§×•×¨:** `src/app/components/smart-table/`

## ğŸ¯ ×“×¨×™×©×•×ª ××¢×¨×›×ª

- **Angular 21** ×•××¢×œ×”
- **TypeScript 5.0** ×•××¢×œ×”
- **RxJS 7.0** ×•××¢×œ×”
- **@angular/cdk** (×œ×’×¨×™×¨×” ×•-Virtual Scrolling)

## ğŸ¨ API ×©×œ ×”×¨×›×™×‘

### Inputs

```typescript
@Input() config: TableConfig<T>              // ×§×•× ×¤×™×’×•×¨×¦×™×” (×—×•×‘×”)
@Input() clientData: T[] | null              // × ×ª×•× ×™× ×œ××¦×‘ client-side
@Input() serverDataSource: TableDataSource<T> | null  // ××§×•×¨ × ×ª×•× ×™× ×œ××¦×‘ server-side

// Templates ××•×ª×××™× ××™×©×™×ª
@Input() headerTemplate: TemplateRef         // ×ª×‘× ×™×ª ××•×ª×××ª ×œ×›×•×ª×¨×•×ª
@Input() cellTemplate: TemplateRef           // ×ª×‘× ×™×ª ××•×ª×××ª ×œ×ª××™×
@Input() actionTemplate: TemplateRef         // ×ª×‘× ×™×ª ××•×ª×××ª ×œ×¤×¢×•×œ×•×ª
@Input() emptyTemplate: TemplateRef          // ×ª×‘× ×™×ª ×œ××¦×‘ ×¨×™×§
@Input() mobileCardTemplate: TemplateRef     // ×ª×‘× ×™×ª ×œ×›×¨×˜×™×¡×™× ×‘××•×‘×™×™×œ
```

### Outputs

```typescript
@Output() rowClick: EventEmitter<T>          // ×œ×—×™×¦×” ×¢×œ ×©×•×¨×”
@Output() cellClick: EventEmitter<{          // ×œ×—×™×¦×” ×¢×œ ×ª×
  row: T;
  column: ColumnConfig<T>;
  value: unknown;
}>
@Output() actionClick: EventEmitter<{        // ×œ×—×™×¦×” ×¢×œ ×¤×¢×•×œ×”
  row: T;
  action: 'edit' | 'delete';
}>
@Output() selectionChange: EventEmitter<string[]>  // ×©×™× ×•×™ ×‘×‘×—×™×¨×”
@Output() rowReorder: EventEmitter<{         // ×¡×™×“×•×¨ ××—×“×© ×©×œ ×©×•×¨×•×ª
  previousIndex: number;
  currentIndex: number;
  items: T[];
}>
```

## ğŸ“Š ×‘×™×¦×•×¢×™×

### Virtual Scrolling

×¢×‘×•×¨ ×˜×‘×œ××•×ª ×¢× ××œ×¤×™ ×©×•×¨×•×ª, ×”×©×ª××© ×‘-virtual scrolling:

```typescript
virtualization: {
  enabled: true,
  itemSize: 52,              // ×’×•×‘×” ×§×‘×•×¢ ×œ×›×œ ×©×•×¨×”
  mobileItemSize: 160,       // ×’×•×‘×” ×›×¨×˜×™×¡ ×‘××•×‘×™×™×œ
  maxViewportHeight: 520     // ×’×•×‘×” ××–×•×¨ ×”×’×œ×™×œ×”
}
```

**×™×ª×¨×•× ×•×ª:**
- ×¨×§ ×©×•×¨×•×ª ×’×œ×•×™×•×ª ×‘-DOM
- ×‘×™×¦×•×¢×™× ××¦×•×™× ×™× ×¢× 10,000+ ×©×•×¨×•×ª
- ×¦×¨×™×›×ª ×–×™×›×¨×•×Ÿ × ××•×›×”

### Client-side vs Server-side

**Client-side** (`dataMode: 'client'`):
- âœ… ××”×™×¨ ×œ××¢×¨×›×•×ª ×§×˜× ×•×ª (< 5,000 ×¨×©×•××•×ª)
- âœ… ×—×™×¤×•×© ×•××™×•×Ÿ ××™×™×“×™
- âœ… ×¢×•×‘×“ offline
- âŒ ×˜×•×¢×Ÿ ×”×›×œ ××¨××©

**Server-side** (`dataMode: 'server'`):
- âœ… ××ª××™× ×œ××¢×¨×›×•×ª ×’×“×•×œ×•×ª
- âœ… ×˜×•×¢×Ÿ ×¨×§ ××” ×©×¦×¨×™×š
- âœ… ××©×ª××© ×‘××©××‘×™ ×©×¨×ª
- âŒ ×“×•×¨×© API ××ª××™×

## ğŸ¨ ×”×ª×××•×ª CSS

××¤×©×¨ ×œ×¢×¦×‘ ××ª ×”×˜×‘×œ×” ×“×¨×š CSS:

```css
/* ×”×ª×××•×ª ×’×œ×•×‘×œ×™×•×ª */
app-smart-table {
  --table-border-color: #e0e0e0;
  --table-header-bg: #f5f5f5;
  --table-row-hover: #f9f9f9;
  --primary-color: #1976d2;
}

/* ×“×¨×¡ ×¡×’× ×•× ×•×ª ×¡×¤×¦×™×¤×™×™× */
app-smart-table ::ng-deep .table-container {
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* ×¢×™×¦×•×‘ ×›×¨×˜×™×¡×™× ×‘××•×‘×™×™×œ */
app-smart-table ::ng-deep .mobile-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}
```

## ğŸš€ ×©×™×œ×•×‘ ×‘×¤×¨×•×™×§×˜ ×©×œ×š - ××“×¨×™×š ××¤×•×¨×˜

### ×“×¨×™×©×•×ª ××§×“×™××•×ª

```bash
Angular 20+ 
TypeScript 5.8+
Node.js 18+
```

### ×©×œ×‘ 1: ×”×ª×§× ×ª ×”×—×‘×™×œ×•×ª ×”× ×“×¨×©×•×ª

```bash
# Angular Material - ×œ×‘×•×¨×¨ ×ª××¨×™×›×™× ××•×“×¨× ×™
npm install @angular/material @angular/cdk

# ×× ×¦×¨×™×š - Drag & Drop ×•-Virtual Scrolling
npm install @angular/cdk
```

### ×©×œ×‘ 2: ×”×¢×ª×§×ª ×”×§×‘×¦×™×

×”×¢×ª×§ ××ª ×”×§×‘×¦×™× ×”×‘××™× ×œ×¤×¨×•×™×§×˜ ×©×œ×š:

```
src/app/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ smart-table/              # ×”×¨×›×™×‘ ×”×¨××©×™
â”‚   â”‚   â”œâ”€â”€ smart-table.component.ts
â”‚   â”‚   â”œâ”€â”€ smart-table.html
â”‚   â”‚   â””â”€â”€ smart-table.css
â”‚   â””â”€â”€ date-picker/              # ×‘×•×¨×¨ ×ª××¨×™×›×™×
â”‚       â”œâ”€â”€ date-picker.component.ts
â”‚       â”œâ”€â”€ date-picker.html
â”‚       â””â”€â”€ date-picker.css
â”œâ”€â”€ models/                       # ×”×’×“×¨×•×ª ×˜×™×¤×•×¡×™×
â”‚   â”œâ”€â”€ table.config.interface.ts
â”‚   â”œâ”€â”€ table-data.interface.ts
â”‚   â””â”€â”€ status-types.ts
â””â”€â”€ services/
    â””â”€â”€ table.service.ts          # ×©×™×¨×•×ª ×œ× ×™×”×•×œ × ×ª×•× ×™×
```

### ×©×œ×‘ 3: ×”×’×“×¨×ª app.config.ts

**×—×©×•×‘!** ×”×•×¡×£ ××ª ×”-providers ×”× ×“×¨×©×™× ×¢×‘×•×¨ Angular Material:

```typescript
import { ApplicationConfig, provideZonelessChangeDetection } from '@angular/core';
import { provideRouter } from '@angular/router';
import { provideHttpClient } from '@angular/common/http';
import { provideAnimationsAsync } from '@angular/platform-browser/animations/async';
import { provideNativeDateAdapter } from '@angular/material/core';

export const appConfig: ApplicationConfig = {
  providers: [
    provideZonelessChangeDetection(),
    provideRouter(routes),
    provideHttpClient(),
    provideAnimationsAsync(),      // × ×“×¨×© ×œ-Material animations
    provideNativeDateAdapter()      // × ×“×¨×© ×œ×‘×•×¨×¨ ×ª××¨×™×›×™×
  ]
};
```

### ×©×œ×‘ 4: ×”×•×¡×£ Material Theme ×œ-styles.css

```css
/* ×‘×§×•×‘×¥ src/styles.css */
@import '@angular/material/prebuilt-themes/indigo-pink.css';

/* ××©×ª× ×™ ×¦×‘×¢ ×œ×‘×•×¨×¨ ×ª××¨×™×›×™× */
:root {
  --dp-primary-color: #1976d2;
  --dp-secondary-color: #42a5f5;
  --dp-header-bg: #1976d2;
  --dp-header-text: #ffffff;
  --dp-today-color: #4caf50;
}

/* ×“×¨×™×¡×•×ª Material ×œ×‘×•×¨×¨ ×ª××¨×™×›×™× */
.mat-calendar-header {
  background-color: var(--dp-header-bg, #1976d2) !important;
}

.mat-calendar-header .mat-calendar-period-button,
.mat-calendar-header .mat-calendar-previous-button,
.mat-calendar-header .mat-calendar-next-button {
  color: var(--dp-header-text, #ffffff) !important;
}

.mat-calendar-body-selected {
  background-color: var(--dp-primary-color, #1976d2) !important;
  color: #ffffff !important;
}

.mat-calendar-body-today:not(.mat-calendar-body-selected) {
  border-color: var(--dp-today-color, #4caf50) !important;
}

html, body { 
  height: 100%; 
  margin: 0; 
  font-family: Roboto, "Helvetica Neue", sans-serif; 
}
```

### ×©×œ×‘ 5: ×¦×•×¨ ×§×•× ×¤×™×’×•×¨×¦×™×” ×œ×˜×‘×œ×” ×©×œ×š

```typescript
// my-table.config.ts
import { TableConfig } from './models/table.config.interface';

export interface MyProduct {
  id: string;
  name: string;
  price: number;
  status: 'available' | 'sold' | 'pending';
  createdDate: string;
}

export const myProductConfig: TableConfig<MyProduct> = {
  dataMode: 'client',
  editMode: 'inline',
  
  columns: [
    {
      key: 'id',
      header: '××–×”×”',
      type: 'text',
      sortable: true,
      mobileVisible: true
    },
    {
      key: 'name',
      header: '×©× ××•×¦×¨',
      type: 'text',
      sortable: true,
      mobileVisible: true
    },
    {
      key: 'price',
      header: '××—×™×¨',
      type: 'currency',
      format: (value) => `â‚ª${value.toLocaleString('he-IL')}`,
      styleConfig: {
        condition: (value) => value > 1000,
        backgroundColor: '#e8f5e9',
        textColor: '#2e7d32'
      }
    },
    {
      key: 'status',
      header: '×¡×˜×˜×•×¡',
      type: 'badge',
      mobileVisible: true
    },
    {
      key: 'createdDate',
      header: '×ª××¨×™×š ×™×¦×™×¨×”',
      type: 'date',
      sortable: true
    },
    {
      key: 'actions',
      header: '×¤×¢×•×œ×•×ª',
      type: 'action',
      mobileVisible: true
    }
  ],

  pagination: {
    defaultPageSize: 10,
    pageSizeOptions: [5, 10, 20, 50],
    showPageInfo: true
  },

  features: {
    enableSearch: true,
    enableEdit: true,
    enableDelete: true,
    enableSort: true,
    enableFilters: true
  },

  // ×”×ª×××ª ×¦×‘×¢×™× ×œ×‘×•×¨×¨ ×ª××¨×™×›×™×
  styling: {
    statusColors: {
      available: '#4CAF50',
      sold: '#f44336',
      pending: '#FFC107'
    },
    datePickerColors: {
      primary: '#1976d2',
      secondary: '#42a5f5',
      headerBackground: '#1976d2',
      headerText: '#ffffff',
      todayColor: '#4caf50'
    }
  },

  statusTypes: ['available', 'sold', 'pending']
};
```

### ×©×œ×‘ 6: ×”×©×ª××© ×‘×¨×›×™×‘

```typescript
// my-component.ts
import { Component, signal } from '@angular/core';
import { SmartTableComponent } from './components/smart-table/smart-table.component';
import { myProductConfig, MyProduct } from './my-table.config';

@Component({
  selector: 'app-products',
  standalone: true,
  imports: [SmartTableComponent],
  template: `
    <h1>× ×™×”×•×œ ××•×¦×¨×™×</h1>
    <app-smart-table 
      [config]="config" 
      [clientData]="products()"
      (actionClick)="handleAction($event)"
    />
  `
})
export class ProductsComponent {
  config = myProductConfig;
  
  products = signal<MyProduct[]>([
    { 
      id: '1', 
      name: '××—×©×‘ × ×™×™×“', 
      price: 3500, 
      status: 'available',
      createdDate: '2026-01-15'
    },
    { 
      id: '2', 
      name: '×¢×›×‘×¨', 
      price: 80, 
      status: 'sold',
      createdDate: '2026-01-20'
    }
  ]);

  handleAction(event: { row: MyProduct; action: 'edit' | 'delete' }) {
    if (event.action === 'edit') {
      console.log('×¢×¨×™×›×ª ××•×¦×¨:', event.row);
    } else if (event.action === 'delete') {
      console.log('××—×™×§×ª ××•×¦×¨:', event.row);
    }
  }
}
```

### ×©×œ×‘ 7: ×”×ª×××ª ×‘×•×¨×¨ ×”×ª××¨×™×›×™× (××•×¤×¦×™×•× ×œ×™)

×× ×¨×•×¦×” ×œ×”×ª××™× ××ª ×¦×‘×¢×™ ×‘×•×¨×¨ ×”×ª××¨×™×›×™× ×œ×¤×™ ××©×ª××©, ×¤×©×•×˜ ×©× ×” ××ª ×”×§×•× ×¤×™×’×•×¨×¦×™×”:

```typescript
// ×¦×‘×¢×™× ×›×—×•×œ×™× (×‘×¨×™×¨×ª ××—×“×œ)
datePickerColors: {
  primary: '#1976d2',
  secondary: '#42a5f5',
  headerBackground: '#1976d2',
  headerText: '#ffffff',
  todayColor: '#4caf50'
}

// ××• ×¦×‘×¢×™× ××“×•××™×
datePickerColors: {
  primary: '#e53935',
  secondary: '#ff5252',
  headerBackground: '#e53935',
  headerText: '#ffffff',
  todayColor: '#ff5252'
}

// ××• ×¦×‘×¢×™× ×™×¨×•×§×™×
datePickerColors: {
  primary: '#4caf50',
  secondary: '#66bb6a',
  headerBackground: '#4caf50',
  headerText: '#ffffff',
  todayColor: '#ff9800'
}
```

### ×©×™××•×© ×‘-Server-side Mode

×× ×™×© ×œ×š ××¡×“ × ×ª×•× ×™× ×’×“×•×œ ×•××ª×” ×¨×•×¦×” ×œ×˜×¢×•×Ÿ × ×ª×•× ×™× ××”×©×¨×ª:

```typescript
import { Observable } from 'rxjs';
import { TableQueryParams, TableDataSourceResult } from './models/table.config.interface';

// ×‘×§×•× ×¤×™×’×•×¨×¦×™×”
dataMode: 'server',

// ×‘×¨×›×™×‘
serverDataSource = signal<TableDataSource<MyProduct>>({
  load: (params: TableQueryParams<MyProduct>): Observable<TableDataSourceResult<MyProduct>> => {
    // ×©×œ×— ×‘×§×©×” ×œ×©×¨×ª ×¢× params
    return this.http.post<TableDataSourceResult<MyProduct>>('/api/products', params);
  }
});

// ×‘×˜××¤×œ×™×™×˜
<app-smart-table 
  [config]="config" 
  [serverDataSource]="serverDataSource()"
/>
```

## ğŸ’¡ ×˜×™×¤×™× ×—×©×•×‘×™×

### 1. ×‘×•×¨×¨ ×ª××¨×™×›×™× ××•×“×¨× ×™
- ××©×ª××© ×‘-Angular Material
- ×œ× ×¦×¨×™×š `FormsModule` - ×”×¨×›×™×‘ standalone
- ××ª××™× ××•×˜×•××˜×™×ª ×œ×’×•×‘×” ×”×©×•×¨×”
- ×¦×‘×¢×™× ××•×ª×××™× ××™×©×™×ª ×œ×›×œ ×˜×‘×œ×”

### 2. ×œ×œ× Reactive Forms
×”×¨×›×™×‘ ××©×ª××© ×‘-`ngModel` ×¤×©×•×˜ ×œ×¢×¨×™×›×”. ×–×” ××¡×¤×™×§ ×›×™:
- ×¢×¨×™×›×” ×¤×©×•×˜×” ×©×œ ×©×“×•×ª ×‘×•×“×“×™×
- ××™×Ÿ ×¦×•×¨×š ×‘×•×œ×™×“×¦×™×” ××•×¨×›×‘×ª
- ××‘× ×” ×§×œ ×™×•×ª×¨
- **×× ×¦×¨×™×š ×•×œ×™×“×¦×™×”** - ××¤×©×¨ ×œ×”×•×¡×™×£ `ReactiveFormsModule` ×‘×¢×¦××š

### 3. Signals ×‘×œ×‘×“
- ×”×¤×¨×•×™×§×˜ ××©×ª××© ×‘-Angular Signals ×‘×œ×‘×“
- ××™×Ÿ RxJS ××™×•×ª×¨ (×¨×§ ×‘××§×•××•×ª ×©×‘×××ª ×¦×¨×™×š)
- ××¦×‘ ×¨×™××§×˜×™×‘×™ ××•×“×¨× ×™
- ×‘×™×¦×•×¢×™× ××¢×•×œ×™×

### 4. Standalone Components
- ×›×œ ×”×¨×›×™×‘×™× standalone (××™×Ÿ NgModule)
- ×™×™×‘×•× ×™×©×™×¨ ×‘×¨×›×™×‘×™×
- ××‘× ×” × ×§×™ ×™×•×ª×¨

## ğŸ“ ×“×•×’×××•×ª ×©×™××•×© × ×•×¡×¤×•×ª

### ×˜×‘×œ×” ×¢× Templates ××•×ª×××™×

```typescript
@Component({
  template: `
    <app-smart-table 
      [config]="config" 
      [clientData]="data()"
      [cellTemplate]="customCell"
      [actionTemplate]="customActions"
    />
    
    <ng-template #customCell let-row let-column="column" let-value="value">
      @if (column.key === 'image') {
        <img [src]="value" alt="Product" style="width: 50px; height: 50px;">
      } @else {
        {{ value }}
      }
    </ng-template>
    
    <ng-template #customActions let-row>
      <button (click)="viewDetails(row)">ğŸ“„ ×¤×¨×˜×™×</button>
      <button (click)="duplicate(row)">ğŸ“‹ ×©×›×¤×œ</button>
    </ng-template>
  `
})
```

### ×˜×‘×œ×” ×¢× Virtual Scrolling

```typescript
export const largeDataConfig: TableConfig = {
  // ... columns ...
  
  virtualization: {
    enabled: true,
    itemSize: 52,              // ×’×•×‘×” ×©×•×¨×” ×‘×¤×™×§×¡×œ×™×
    mobileItemSize: 160,       // ×’×•×‘×” ×›×¨×˜×™×¡ ×‘××•×‘×™×™×œ
    maxViewportHeight: 600     // ×’×•×‘×” ××§×¡×™××œ×™ ×œ×˜×‘×œ×”
  },
  
  features: {
    enableMobileInfiniteScroll: true  // ×‘××§×•× pagination ×‘××•×‘×™×™×œ
  }
};
```

## ğŸ”§ ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª × ×¤×•×¦×•×ª

### ×”×œ×•×— ×©× ×” ×œ× × ×¤×ª×—
```typescript
// ×•×“× ×©×”×•×¡×¤×ª ××ª ×”-providers ×‘-app.config.ts:
provideAnimationsAsync(),
provideNativeDateAdapter()
```

### ×¦×‘×¢×™ ×”×œ×•×— ×œ× ××©×ª× ×™×
```typescript
// ×•×“× ×©×”×•×¡×¤×ª ××ª ×”-Material theme ×‘-styles.css:
@import '@angular/material/prebuilt-themes/indigo-pink.css';

// ×•×”×•×¡×¤×ª ××ª ×”×“×¨×™×¡×•×ª CSS
.mat-calendar-header {
  background-color: var(--dp-header-bg) !important;
}
```

### ×©×’×™××ª ×§×•××¤×™×œ×¦×™×”
```typescript
// ×•×“× ×©×”-TypeScript ×¢×“×›× ×™:
npm install typescript@latest

// ×•×“× ×©×”-Angular ×¢×“×›× ×™:
npm install @angular/core@latest @angular/common@latest
```

## ğŸ“š ×¡×™×›×•× ×˜×›× ×•×œ×•×’×™×•×ª

×”×¨×›×™×‘ ×”×–×” ×”×•× **×¤×ª×¨×•×Ÿ ×’× ×¨×™ ×œ×—×œ×•×˜×™×Ÿ** ×œ×ª×¦×•×’×ª × ×ª×•× ×™× ×˜×‘×œ××™×ª. ×”×•× ×œ× ×§×©×•×¨ ×œ×¡×•×’ × ×ª×•× ×™× ××¡×•×™× ×•×™×›×•×œ ×œ×¢×‘×•×“ ×¢× ×›×œ ×™×©×•×ª - ×¢×•×‘×“×™×, ××ª×§× ×™×, ××•×¦×¨×™×, ×”×–×× ×•×ª, ××• ×›×œ ×“×‘×¨ ××—×¨.

**×˜×›× ×•×œ×•×’×™×•×ª:**
- âœ… Angular 20+ ×¢× Signals
- âœ… Angular Material Design
- âœ… Standalone Components (×œ×œ× NgModules)
- âœ… TypeScript Generics ×œ×‘×˜×™×—×•×ª ×˜×™×¤×•×¡×™×
- âœ… CDK Virtual Scrolling & Drag Drop
- âœ… Signal-based State Management
- âœ… Modern Control Flow (@if, @for)

**×¨×•×¦×” ×œ×”×¦×™×’ ××©×”×• ××—×¨?** ×¤×©×•×˜:
1. ×¦×•×¨ interface ×œ× ×ª×•× ×™× ×©×œ×š ×¢× `id: string`
2. ×›×ª×•×‘ config ×©××’×“×™×¨ ××ª ×”×¢××•×“×•×ª
3. ×”×¢×‘×¨ config + data ×œ-`<app-smart-table>`

**×¨×›×™×‘ ××—×“. × ×ª×•× ×™× ×©×•× ×™×. ×–×” ×›×•×— ×”×˜×‘×œ××•×ª ×”×“×™× ××™×•×ª.**

---

**Angular 20+** â€¢ **××‘×•×¡×¡ Signals** â€¢ **Material Design** â€¢ **Mobile-first** â€¢ **TypeScript** â€¢ **×ª××™×›×” RTL ××œ××”**
